#!/usr/bin/env bash
echo "ğŸ“ Running PHP Rector..."
composer rector-commit

# Check PHP Rector exit code
if [ $? -ne 0 ]; then
    echo "âŒ PHP Rector check failed. Please fix the issues before committing."
    exit 1
fi
echo "âœ… PHP Rector check passed!"

echo "ğŸ“ Running PHPStan analysis..."
composer analyze-commit

# Check PHPStan exit code
if [ $? -ne 0 ]; then
    echo "âŒ PHPStan check failed. Please fix the issues before committing."
    exit 1
fi
echo "âœ… PHPStan check passed!"

exit 0